# ========================================
# Auto-Blog SEO Monster - Environment Configuration
# ========================================
#
# IMPORTANT: Copy this file to .env and fill in your actual values
# Command: cp .env.example .env
#
# Security Notes:
# - NEVER commit .env to version control
# - Change ALL default passwords and secrets in production
# - Use strong, randomly generated secrets (openssl rand -hex 32)
# - Rotate secrets regularly
#
# ========================================

# ========================================
# APPLICATION SETTINGS
# ========================================

# Application name displayed in logs and UI
APP_NAME=Auto-Blog SEO Monster

# Environment: development, staging, production
# - development: Debug mode, verbose logging
# - production: Optimized, minimal logging
APP_ENV=development

# Enable debug mode (NEVER enable in production!)
# Shows detailed error messages and stack traces
DEBUG=true

# API prefix for all routes
# Example: /api/v1/agents, /api/v1/posts
API_PREFIX=/api/v1

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# - DEBUG: All messages (development only)
# - INFO: General information
# - WARNING: Warning messages
# - ERROR: Error messages only
LOG_LEVEL=INFO

# ========================================
# DATABASE CONFIGURATION (PostgreSQL)
# ========================================

# PostgreSQL connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
#
# Local development:
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/autoblog_dev
#
# Docker:
# DATABASE_URL=postgresql+asyncpg://postgres:password@db:5432/autoblog
#
# Production (use strong password!):
# DATABASE_URL=postgresql+asyncpg://dbuser:STRONG_PASSWORD@db.example.com:5432/autoblog_prod
#
# Cloud providers:
# - Railway: Provided automatically via DATABASE_URL
# - Heroku: Provided automatically via DATABASE_URL
# - AWS RDS: postgresql+asyncpg://user:pass@xxx.rds.amazonaws.com:5432/dbname
# - DigitalOcean: postgresql+asyncpg://user:pass@xxx.db.ondigitalocean.com:25060/dbname?sslmode=require

# Database connection pool settings
# Number of permanent connections to maintain
DATABASE_POOL_SIZE=5

# Maximum overflow connections beyond pool_size
DATABASE_MAX_OVERFLOW=10

# ========================================
# REDIS CONFIGURATION
# ========================================

# Redis connection URL (for caching and Celery broker)
# Format: redis://[username:password@]host:port/db
#
# Local development:
REDIS_URL=redis://localhost:6379/0
#
# Docker:
# REDIS_URL=redis://redis:6379/0
#
# Redis Cloud / Upstash:
# REDIS_URL=redis://default:password@redis-12345.upstash.io:6379
#
# AWS ElastiCache:
# REDIS_URL=redis://master.xxx.cache.amazonaws.com:6379/0
#
# With password:
# REDIS_URL=redis://:your_password@localhost:6379/0

# ========================================
# CELERY CONFIGURATION (Background Tasks)
# ========================================

# Celery broker URL (usually same as Redis)
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery result backend (where task results are stored)
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery task time limit (seconds)
# Tasks running longer than this will be killed
CELERY_TASK_TIME_LIMIT=300

# Celery soft time limit (seconds)
# Tasks get SoftTimeLimitExceeded exception before hard limit
CELERY_TASK_SOFT_TIME_LIMIT=270

# ========================================
# JWT AUTHENTICATION
# ========================================

# JWT secret key for signing tokens
# IMPORTANT: Generate a strong secret in production!
# Generate: openssl rand -hex 32
# NEVER use the default value in production!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT algorithm (HS256 recommended for most cases)
# Options: HS256, HS384, HS512, RS256, RS384, RS512
JWT_ALGORITHM=HS256

# JWT token expiry (hours)
# How long access tokens are valid
# Recommended: 1-24 hours for web, 24-168 for mobile
JWT_EXPIRY_HOURS=24

# JWT refresh token expiry (days)
# How long refresh tokens are valid
JWT_REFRESH_EXPIRY_DAYS=30

# ========================================
# PASSWORD SECURITY
# ========================================

# Minimum password length
PASSWORD_MIN_LENGTH=8

# Bcrypt rounds (higher = more secure but slower)
# 12 is a good balance between security and performance
# Don't go below 10 in production
BCRYPT_ROUNDS=12

# ========================================
# CORS (Cross-Origin Resource Sharing)
# ========================================

# Allowed origins for CORS (comma-separated)
# Frontend URLs that can access the API
#
# Development (multiple origins):
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:5173
#
# Production (specific domains):
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com
#
# Allow all origins (NOT recommended in production):
# CORS_ORIGINS=*

# ========================================
# ANTHROPIC CLAUDE API
# ========================================

# Anthropic API key
# Get it from: https://console.anthropic.com/
# Format: sk-ant-api03-...
ANTHROPIC_API_KEY=sk-ant-api-xxx-REPLACE-WITH-YOUR-ACTUAL-KEY

# Claude model to use
# Available models:
# - claude-3-5-sonnet-20241022 (Recommended, best balance)
# - claude-3-opus-20240229 (Most capable, expensive)
# - claude-3-haiku-20240307 (Fastest, cheapest)
CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Maximum tokens per generation
# Determines output length and cost
# Typical values: 1000-4000 for blog posts
CLAUDE_MAX_TOKENS=4000

# Temperature (0.0 - 1.0)
# 0.0 = More focused and deterministic
# 1.0 = More creative and random
# Recommended: 0.5-0.8 for blog content
CLAUDE_TEMPERATURE=0.7

# ========================================
# EXTERNAL APIs (Optional)
# ========================================

# Brave Search API key (for web research)
# Get it from: https://brave.com/search/api/
# Enables automatic topic research before content generation
# Leave empty to disable web research
BRAVE_API_KEY=

# OpenAI API key (optional, for alternative AI provider)
# Get it from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...

# Google Custom Search (optional, alternative to Brave)
# GOOGLE_CSE_API_KEY=
# GOOGLE_CSE_ID=

# ========================================
# DEFAULT LIMITS
# ========================================

# Default token limit per tenant
# How many API tokens each tenant can use
DEFAULT_TOKENS_LIMIT=100000

# Default posts limit per tenant
# How many posts each tenant can create
DEFAULT_POSTS_LIMIT=50

# ========================================
# FRONTEND CONFIGURATION
# ========================================

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5173

# Frontend build directory (for serving static files)
# FRONTEND_BUILD_DIR=../frontend/dist

# ========================================
# EMAIL CONFIGURATION (Optional)
# ========================================

# SMTP settings for sending emails
# Leave empty to disable email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=Auto-Blog SEO Monster

# ========================================
# CLOUD STORAGE (Optional)
# ========================================

# AWS S3 (for storing images, files)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=
# AWS_S3_REGION=us-east-1

# Cloudflare R2 (S3-compatible)
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET=
# R2_ENDPOINT=https://xxx.r2.cloudflarestorage.com

# ========================================
# MONITORING & ANALYTICS (Optional)
# ========================================

# Sentry (error tracking)
# Get it from: https://sentry.io/
# SENTRY_DSN=https://xxx@sentry.io/xxx

# PostHog (product analytics)
# POSTHOG_API_KEY=
# POSTHOG_HOST=https://app.posthog.com

# Google Analytics
# GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ========================================
# RATE LIMITING (Optional)
# ========================================

# Enable rate limiting
ENABLE_RATE_LIMITING=true

# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Requests per hour per IP
RATE_LIMIT_PER_HOUR=1000

# ========================================
# FEATURES FLAGS (Optional)
# ========================================

# Enable/disable specific features
FEATURE_MULTI_TENANT=true
FEATURE_AI_GENERATION=true
FEATURE_SCHEDULED_PUBLISHING=true
FEATURE_ANALYTICS=false

# ========================================
# DEVELOPMENT / DEBUGGING
# ========================================

# SQL query logging (development only!)
# Shows all SQL queries in logs
SQL_ECHO=false

# Pretty print JSON responses
JSON_INDENT=2

# Reload on code changes (development only!)
RELOAD_ON_CHANGE=true

# Profiling (development only!)
ENABLE_PROFILING=false

# ========================================
# PRODUCTION OPTIMIZATIONS
# ========================================

# Use these settings in production:
#
# APP_ENV=production
# DEBUG=false
# LOG_LEVEL=WARNING
# SQL_ECHO=false
# RELOAD_ON_CHANGE=false
# JWT_SECRET=<generate-with: openssl rand -hex 32>
# CORS_ORIGINS=https://yourdomain.com
# PASSWORD_MIN_LENGTH=12
# BCRYPT_ROUNDS=12

# ========================================
# DOCKER-SPECIFIC SETTINGS
# ========================================

# When running in Docker, use these overrides:
#
# DATABASE_URL=postgresql+asyncpg://postgres:password@db:5432/autoblog
# REDIS_URL=redis://redis:6379/0
# CELERY_BROKER_URL=redis://redis:6379/0
# CELERY_RESULT_BACKEND=redis://redis:6379/0

# ========================================
# HELPFUL COMMANDS
# ========================================
#
# Generate JWT secret:
#   openssl rand -hex 32
#
# Generate password hash:
#   python -c "from passlib.hash import bcrypt; print(bcrypt.hash('your-password'))"
#
# Test database connection:
#   psql $DATABASE_URL
#
# Test Redis connection:
#   redis-cli -u $REDIS_URL ping
#
# Check environment variables:
#   env | grep -E "(DATABASE|REDIS|ANTHROPIC)"
#
# ========================================
